Добавить json в qr и потом парсить его, данные из парса помещать в label где будет указан столик
протестить на се и исправить косяки

https://stackoverflow.com/questions/24126678/close-ios-keyboard-by-touching-anywhere-using-swift //закрытие клавиатуры

import Foundation
import Security

struct CreditCard {
    let cardNumber: String
    let expirationDate: String
    let cvv: String
}

class KeychainManager {
    
    static let service = "com.example.app.creditcard"
    
    static func saveCreditCard(_ creditCard: CreditCard, forAccount account: String) -> Bool {
        let attributes: [String: Any] = [
            kSecClass as String: kSecClassGenericPassword,
            kSecAttrService as String: service,
            kSecAttrAccount as String: account,
            kSecValueData as String: try! JSONEncoder().encode(creditCard)
        ]
        
        // Delete existing item if exists
        SecItemDelete(attributes as CFDictionary)
        
        // Add new item
        let status = SecItemAdd(attributes as CFDictionary, nil)
        return status == errSecSuccess
    }
    
    static func retrieveCreditCard(forAccount account: String) -> CreditCard? {
        let query: [String: Any] = [
            kSecClass as String: kSecClassGenericPassword,
            kSecAttrService as String: service,
            kSecAttrAccount as String: account,
            kSecReturnData as String: true,
            kSecMatchLimit as String: kSecMatchLimitOne
        ]
        
        var item: CFTypeRef?
        let status = SecItemCopyMatching(query as CFDictionary, &item)
        
        guard status == errSecSuccess, let data = item as? Data else {
            return nil
        }
        
        return try? JSONDecoder().decode(CreditCard.self, from: data)
    }
    
    static func deleteCreditCard(forAccount account: String) -> Bool {
        let query: [String: Any] = [
            kSecClass as String: kSecClassGenericPassword,
            kSecAttrService as String: service,
            kSecAttrAccount as String: account
        ]
        
        let status = SecItemDelete(query as CFDictionary)
        return status == errSecSuccess
    }
}

// Example usage:
let creditCard = CreditCard(cardNumber: "1234567890123456", expirationDate: "12/25", cvv: "123")
let account = "user123"

// Save credit card
if KeychainManager.saveCreditCard(creditCard, forAccount: account) {
    print("Credit card saved successfully.")
} else {
    print("Failed to save credit card.")
}

// Retrieve credit card
if let retrievedCard = KeychainManager.retrieveCreditCard(forAccount: account) {
    print("Retrieved credit card details:")
    print("Card Number: \(retrievedCard.cardNumber)")
    print("Expiration Date: \(retrievedCard.expirationDate)")
    print("CVV: \(retrievedCard.cvv)")
} else {
    print("Credit card not found.")
}

// Delete credit card
if KeychainManager.deleteCreditCard(forAccount: account) {
    print("Credit card deleted successfully.")
} else {
    print("Failed to delete credit card.")
}

